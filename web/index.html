<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NFT Test Application</title>
</head>
<body>
<div>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.34/dist/web3.min.js"></script>
    <script>
        const collection_bin = "0x60806040523480156200001157600080fd5b5060405162002e6a38038062002e6a8339818101604052810190620000379190620003ae565b82828281600090816200004b919062000693565b5080600190816200005d919062000693565b505050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603620000d55760006040517f1e4fbdf7000000000000000000000000000000000000000000000000000000008152600401620000cc91906200078b565b60405180910390fd5b620000e681620000f060201b60201c565b50505050620007a8565b6000600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600760006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620001f782620001ca565b9050919050565b6200020981620001ea565b81146200021557600080fd5b50565b6000815190506200022981620001fe565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b620002848262000239565b810181811067ffffffffffffffff82111715620002a657620002a56200024a565b5b80604052505050565b6000620002bb620001b6565b9050620002c9828262000279565b919050565b600067ffffffffffffffff821115620002ec57620002eb6200024a565b5b620002f78262000239565b9050602081019050919050565b60005b838110156200032457808201518184015260208101905062000307565b60008484015250505050565b6000620003476200034184620002ce565b620002af565b90508281526020810184848401111562000366576200036562000234565b5b6200037384828562000304565b509392505050565b600082601f8301126200039357620003926200022f565b5b8151620003a584826020860162000330565b91505092915050565b600080600060608486031215620003ca57620003c9620001c0565b5b6000620003da8682870162000218565b935050602084015167ffffffffffffffff811115620003fe57620003fd620001c5565b5b6200040c868287016200037b565b925050604084015167ffffffffffffffff81111562000430576200042f620001c5565b5b6200043e868287016200037b565b9150509250925092565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806200049b57607f821691505b602082108103620004b157620004b062000453565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026200051b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82620004dc565b620005278683620004dc565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b6000620005746200056e62000568846200053f565b62000549565b6200053f565b9050919050565b6000819050919050565b620005908362000553565b620005a86200059f826200057b565b848454620004e9565b825550505050565b600090565b620005bf620005b0565b620005cc81848462000585565b505050565b5b81811015620005f457620005e8600082620005b5565b600181019050620005d2565b5050565b601f82111562000643576200060d81620004b7565b6200061884620004cc565b8101602085101562000628578190505b620006406200063785620004cc565b830182620005d1565b50505b505050565b600082821c905092915050565b6000620006686000198460080262000648565b1980831691505092915050565b600062000683838362000655565b9150826002028217905092915050565b6200069e8262000448565b67ffffffffffffffff811115620006ba57620006b96200024a565b5b620006c6825462000482565b620006d3828285620005f8565b600060209050601f8311600181146200070b5760008415620006f6578287015190505b62000702858262000675565b86555062000772565b601f1984166200071b86620004b7565b60005b8281101562000745578489015182556001820191506020850194506020810190506200071e565b8683101562000765578489015162000761601f89168262000655565b8355505b6001600288020188555050505b505050505050565b6200078581620001ea565b82525050565b6000602082019050620007a260008301846200077a565b92915050565b6126b280620007b86000396000f3fe608060405234801561001057600080fd5b506004361061010b5760003560e01c8063715018a6116100a2578063b88d4fde11610071578063b88d4fde146102a4578063ba7aef43146102c0578063c87b56dd146102f0578063e985e9c514610320578063f2fde38b146103505761010b565b8063715018a6146102425780638da5cb5b1461024c57806395d89b411461026a578063a22cb465146102885761010b565b806323b872dd116100de57806323b872dd146101aa57806342842e0e146101c65780636352211e146101e257806370a08231146102125761010b565b806301ffc9a71461011057806306fdde0314610140578063081812fc1461015e578063095ea7b31461018e575b600080fd5b61012a60048036038101906101259190611b02565b61036c565b6040516101379190611b4a565b60405180910390f35b61014861037e565b6040516101559190611bf5565b60405180910390f35b61017860048036038101906101739190611c4d565b610410565b6040516101859190611cbb565b60405180910390f35b6101a860048036038101906101a39190611d02565b61042c565b005b6101c460048036038101906101bf9190611d42565b610442565b005b6101e060048036038101906101db9190611d42565b610544565b005b6101fc60048036038101906101f79190611c4d565b610564565b6040516102099190611cbb565b60405180910390f35b61022c60048036038101906102279190611d95565b610576565b6040516102399190611dd1565b60405180910390f35b61024a610630565b005b610254610644565b6040516102619190611cbb565b60405180910390f35b61027261066e565b60405161027f9190611bf5565b60405180910390f35b6102a2600480360381019061029d9190611e18565b610700565b005b6102be60048036038101906102b99190611f8d565b610716565b005b6102da60048036038101906102d591906120b1565b610733565b6040516102e79190611dd1565b60405180910390f35b61030a60048036038101906103059190611c4d565b6107c1565b6040516103179190611bf5565b60405180910390f35b61033a60048036038101906103359190612120565b6107d3565b6040516103479190611b4a565b60405180910390f35b61036a60048036038101906103659190611d95565b610867565b005b6000610377826108ed565b9050919050565b60606000805461038d9061218f565b80601f01602080910402602001604051908101604052809291908181526020018280546103b99061218f565b80156104065780601f106103db57610100808354040283529160200191610406565b820191906000526020600020905b8154815290600101906020018083116103e957829003601f168201915b5050505050905090565b600061041b8261094e565b50610425826109d6565b9050919050565b61043e8282610439610a13565b610a1b565b5050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036104b45760006040517f64a0ae920000000000000000000000000000000000000000000000000000000081526004016104ab9190611cbb565b60405180910390fd5b60006104c883836104c3610a13565b610a2d565b90508373ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161461053e578382826040517f64283d7b000000000000000000000000000000000000000000000000000000008152600401610535939291906121c0565b60405180910390fd5b50505050565b61055f83838360405180602001604052806000815250610716565b505050565b600061056f8261094e565b9050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036105e95760006040517f89c62b640000000000000000000000000000000000000000000000000000000081526004016105e09190611cbb565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b610638610c47565b6106426000610cce565b565b6000600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60606001805461067d9061218f565b80601f01602080910402602001604051908101604052809291908181526020018280546106a99061218f565b80156106f65780601f106106cb576101008083540402835291602001916106f6565b820191906000526020600020905b8154815290600101906020018083116106d957829003601f168201915b5050505050905090565b61071261070b610a13565b8383610d94565b5050565b610721848484610442565b61072d84848484610f03565b50505050565b60008073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16036107a3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161079a90612243565b60405180910390fd5b6107ad84836110ba565b6107b782846111b3565b8190509392505050565b60606107cc8261120f565b9050919050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b61086f610c47565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036108e15760006040517f1e4fbdf70000000000000000000000000000000000000000000000000000000081526004016108d89190611cbb565b60405180910390fd5b6108ea81610cce565b50565b6000634906490660e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161480610947575061094682611322565b5b9050919050565b60008061095a83611404565b9050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036109cd57826040517f7e2732890000000000000000000000000000000000000000000000000000000081526004016109c49190611dd1565b60405180910390fd5b80915050919050565b60006004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600033905090565b610a288383836001611441565b505050565b600080610a3984611404565b9050600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614610a7b57610a7a818486611606565b5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610b0c57610abd600085600080611441565b6001600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055505b600073ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff1614610b8f576001600360008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055505b846002600086815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550838573ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4809150509392505050565b610c4f610a13565b73ffffffffffffffffffffffffffffffffffffffff16610c6d610644565b73ffffffffffffffffffffffffffffffffffffffff1614610ccc57610c90610a13565b6040517f118cdaa7000000000000000000000000000000000000000000000000000000008152600401610cc39190611cbb565b60405180910390fd5b565b6000600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600760006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610e0557816040517f5b08ba18000000000000000000000000000000000000000000000000000000008152600401610dfc9190611cbb565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c3183604051610ef69190611b4a565b60405180910390a3505050565b60008373ffffffffffffffffffffffffffffffffffffffff163b11156110b4578273ffffffffffffffffffffffffffffffffffffffff1663150b7a02610f47610a13565b8685856040518563ffffffff1660e01b8152600401610f6994939291906122b8565b6020604051808303816000875af1925050508015610fa557506040513d601f19601f82011682018060405250810190610fa29190612319565b60015b611029573d8060008114610fd5576040519150601f19603f3d011682016040523d82523d6000602084013e610fda565b606091505b50600081510361102157836040517f64a0ae920000000000000000000000000000000000000000000000000000000081526004016110189190611cbb565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916146110b257836040517f64a0ae920000000000000000000000000000000000000000000000000000000081526004016110a99190611cbb565b60405180910390fd5b505b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361112c5760006040517f64a0ae920000000000000000000000000000000000000000000000000000000081526004016111239190611cbb565b60405180910390fd5b600061113a83836000610a2d565b9050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16146111ae5760006040517f73c6ac6e0000000000000000000000000000000000000000000000000000000081526004016111a59190611cbb565b60405180910390fd5b505050565b806006600084815260200190815260200160002090816111d391906124f2565b507ff8e1a15aba9398e019f0b49df1a4fde98ee17ae345cb5f6b5e2c27f5033e8ce7826040516112039190611dd1565b60405180910390a15050565b606061121a8261094e565b50600060066000848152602001908152602001600020805461123b9061218f565b80601f01602080910402602001604051908101604052809291908181526020018280546112679061218f565b80156112b45780601f10611289576101008083540402835291602001916112b4565b820191906000526020600020905b81548152906001019060200180831161129757829003601f168201915b5050505050905060006112c56116ca565b905060008151036112da57819250505061131d565b60008251111561130f5780826040516020016112f7929190612600565b6040516020818303038152906040529250505061131d565b611318846116e1565b925050505b919050565b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806113ed57507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b806113fd57506113fc8261174a565b5b9050919050565b60006002600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b808061147a5750600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614155b156115ae57600061148a8461094e565b9050600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141580156114f557508273ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614155b8015611508575061150681846107d3565b155b1561154a57826040517fa9fbf51f0000000000000000000000000000000000000000000000000000000081526004016115419190611cbb565b60405180910390fd5b81156115ac57838573ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45b505b836004600085815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050505050565b6116118383836117b4565b6116c557600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361168657806040517f7e27328900000000000000000000000000000000000000000000000000000000815260040161167d9190611dd1565b60405180910390fd5b81816040517f177e802f0000000000000000000000000000000000000000000000000000000081526004016116bc929190612624565b60405180910390fd5b505050565b606060405180602001604052806000815250905090565b60606116ec8261094e565b5060006116f76116ca565b905060008151116117175760405180602001604052806000815250611742565b8061172184611875565b604051602001611732929190612600565b6040516020818303038152906040525b915050919050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415801561186c57508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16148061182d575061182c84846107d3565b5b8061186b57508273ffffffffffffffffffffffffffffffffffffffff16611853836109d6565b73ffffffffffffffffffffffffffffffffffffffff16145b5b90509392505050565b60606000600161188484611943565b01905060008167ffffffffffffffff8111156118a3576118a2611e62565b5b6040519080825280601f01601f1916602001820160405280156118d55781602001600182028036833780820191505090505b509050600082602001820190505b600115611938578080600190039150507f3031323334353637383961626364656600000000000000000000000000000000600a86061a8153600a858161192c5761192b61264d565b5b049450600085036118e3575b819350505050919050565b600080600090507a184f03e93ff9f4daa797ed6e38ed64bf6a1f01000000000000000083106119a1577a184f03e93ff9f4daa797ed6e38ed64bf6a1f01000000000000000083816119975761199661264d565b5b0492506040810190505b6d04ee2d6d415b85acef810000000083106119de576d04ee2d6d415b85acef810000000083816119d4576119d361264d565b5b0492506020810190505b662386f26fc100008310611a0d57662386f26fc100008381611a0357611a0261264d565b5b0492506010810190505b6305f5e1008310611a36576305f5e1008381611a2c57611a2b61264d565b5b0492506008810190505b6127108310611a5b576127108381611a5157611a5061264d565b5b0492506004810190505b60648310611a7e5760648381611a7457611a7361264d565b5b0492506002810190505b600a8310611a8d576001810190505b80915050919050565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b611adf81611aaa565b8114611aea57600080fd5b50565b600081359050611afc81611ad6565b92915050565b600060208284031215611b1857611b17611aa0565b5b6000611b2684828501611aed565b91505092915050565b60008115159050919050565b611b4481611b2f565b82525050565b6000602082019050611b5f6000830184611b3b565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611b9f578082015181840152602081019050611b84565b60008484015250505050565b6000601f19601f8301169050919050565b6000611bc782611b65565b611bd18185611b70565b9350611be1818560208601611b81565b611bea81611bab565b840191505092915050565b60006020820190508181036000830152611c0f8184611bbc565b905092915050565b6000819050919050565b611c2a81611c17565b8114611c3557600080fd5b50565b600081359050611c4781611c21565b92915050565b600060208284031215611c6357611c62611aa0565b5b6000611c7184828501611c38565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000611ca582611c7a565b9050919050565b611cb581611c9a565b82525050565b6000602082019050611cd06000830184611cac565b92915050565b611cdf81611c9a565b8114611cea57600080fd5b50565b600081359050611cfc81611cd6565b92915050565b60008060408385031215611d1957611d18611aa0565b5b6000611d2785828601611ced565b9250506020611d3885828601611c38565b9150509250929050565b600080600060608486031215611d5b57611d5a611aa0565b5b6000611d6986828701611ced565b9350506020611d7a86828701611ced565b9250506040611d8b86828701611c38565b9150509250925092565b600060208284031215611dab57611daa611aa0565b5b6000611db984828501611ced565b91505092915050565b611dcb81611c17565b82525050565b6000602082019050611de66000830184611dc2565b92915050565b611df581611b2f565b8114611e0057600080fd5b50565b600081359050611e1281611dec565b92915050565b60008060408385031215611e2f57611e2e611aa0565b5b6000611e3d85828601611ced565b9250506020611e4e85828601611e03565b9150509250929050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b611e9a82611bab565b810181811067ffffffffffffffff82111715611eb957611eb8611e62565b5b80604052505050565b6000611ecc611a96565b9050611ed88282611e91565b919050565b600067ffffffffffffffff821115611ef857611ef7611e62565b5b611f0182611bab565b9050602081019050919050565b82818337600083830152505050565b6000611f30611f2b84611edd565b611ec2565b905082815260208101848484011115611f4c57611f4b611e5d565b5b611f57848285611f0e565b509392505050565b600082601f830112611f7457611f73611e58565b5b8135611f84848260208601611f1d565b91505092915050565b60008060008060808587031215611fa757611fa6611aa0565b5b6000611fb587828801611ced565b9450506020611fc687828801611ced565b9350506040611fd787828801611c38565b925050606085013567ffffffffffffffff811115611ff857611ff7611aa5565b5b61200487828801611f5f565b91505092959194509250565b600067ffffffffffffffff82111561202b5761202a611e62565b5b61203482611bab565b9050602081019050919050565b600061205461204f84612010565b611ec2565b9050828152602081018484840111156120705761206f611e5d565b5b61207b848285611f0e565b509392505050565b600082601f83011261209857612097611e58565b5b81356120a8848260208601612041565b91505092915050565b6000806000606084860312156120ca576120c9611aa0565b5b60006120d886828701611ced565b935050602084013567ffffffffffffffff8111156120f9576120f8611aa5565b5b61210586828701612083565b925050604061211686828701611c38565b9150509250925092565b6000806040838503121561213757612136611aa0565b5b600061214585828601611ced565b925050602061215685828601611ced565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806121a757607f821691505b6020821081036121ba576121b9612160565b5b50919050565b60006060820190506121d56000830186611cac565b6121e26020830185611dc2565b6121ef6040830184611cac565b949350505050565b7f4552433732313a206d696e7420746f20746865207a65726f2061646472657373600082015250565b600061222d602083611b70565b9150612238826121f7565b602082019050919050565b6000602082019050818103600083015261225c81612220565b9050919050565b600081519050919050565b600082825260208201905092915050565b600061228a82612263565b612294818561226e565b93506122a4818560208601611b81565b6122ad81611bab565b840191505092915050565b60006080820190506122cd6000830187611cac565b6122da6020830186611cac565b6122e76040830185611dc2565b81810360608301526122f9818461227f565b905095945050505050565b60008151905061231381611ad6565b92915050565b60006020828403121561232f5761232e611aa0565b5b600061233d84828501612304565b91505092915050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026123a87fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8261236b565b6123b2868361236b565b95508019841693508086168417925050509392505050565b6000819050919050565b60006123ef6123ea6123e584611c17565b6123ca565b611c17565b9050919050565b6000819050919050565b612409836123d4565b61241d612415826123f6565b848454612378565b825550505050565b600090565b612432612425565b61243d818484612400565b505050565b5b818110156124615761245660008261242a565b600181019050612443565b5050565b601f8211156124a65761247781612346565b6124808461235b565b8101602085101561248f578190505b6124a361249b8561235b565b830182612442565b50505b505050565b600082821c905092915050565b60006124c9600019846008026124ab565b1980831691505092915050565b60006124e283836124b8565b9150826002028217905092915050565b6124fb82611b65565b67ffffffffffffffff81111561251457612513611e62565b5b61251e825461218f565b612529828285612465565b600060209050601f83116001811461255c576000841561254a578287015190505b61255485826124d6565b8655506125bc565b601f19841661256a86612346565b60005b828110156125925784890151825560018201915060208501945060208101905061256d565b868310156125af57848901516125ab601f8916826124b8565b8355505b6001600288020188555050505b505050505050565b600081905092915050565b60006125da82611b65565b6125e481856125c4565b93506125f4818560208601611b81565b80840191505092915050565b600061260c82856125cf565b915061261882846125cf565b91508190509392505050565b60006040820190506126396000830185611cac565b6126466020830184611dc2565b9392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fdfea2646970667358221220dd7a03ec28f011bbbc52c0a7f019a007c4f8f751a8b63891158e9b5e62a0cc9d64736f6c63430008140033"
        const collection_abi = [ { "inputs": [ { "internalType": "address", "name": "initialOwner", "type": "address" }, { "internalType": "string", "name": "name", "type": "string" }, { "internalType": "string", "name": "symbol", "type": "string" } ], "stateMutability": "nonpayable", "type": "constructor" }, { "inputs": [ { "internalType": "address", "name": "sender", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "address", "name": "owner", "type": "address" } ], "name": "ERC721IncorrectOwner", "type": "error" }, { "inputs": [ { "internalType": "address", "name": "operator", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" } ], "name": "ERC721InsufficientApproval", "type": "error" }, { "inputs": [ { "internalType": "address", "name": "approver", "type": "address" } ], "name": "ERC721InvalidApprover", "type": "error" }, { "inputs": [ { "internalType": "address", "name": "operator", "type": "address" } ], "name": "ERC721InvalidOperator", "type": "error" }, { "inputs": [ { "internalType": "address", "name": "owner", "type": "address" } ], "name": "ERC721InvalidOwner", "type": "error" }, { "inputs": [ { "internalType": "address", "name": "receiver", "type": "address" } ], "name": "ERC721InvalidReceiver", "type": "error" }, { "inputs": [ { "internalType": "address", "name": "sender", "type": "address" } ], "name": "ERC721InvalidSender", "type": "error" }, { "inputs": [ { "internalType": "uint256", "name": "tokenId", "type": "uint256" } ], "name": "ERC721NonexistentToken", "type": "error" }, { "inputs": [ { "internalType": "address", "name": "owner", "type": "address" } ], "name": "OwnableInvalidOwner", "type": "error" }, { "inputs": [ { "internalType": "address", "name": "account", "type": "address" } ], "name": "OwnableUnauthorizedAccount", "type": "error" }, { "anonymous": false, "inputs": [ { "indexed": true, "internalType": "address", "name": "owner", "type": "address" }, { "indexed": true, "internalType": "address", "name": "approved", "type": "address" }, { "indexed": true, "internalType": "uint256", "name": "tokenId", "type": "uint256" } ], "name": "Approval", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "internalType": "address", "name": "owner", "type": "address" }, { "indexed": true, "internalType": "address", "name": "operator", "type": "address" }, { "indexed": false, "internalType": "bool", "name": "approved", "type": "bool" } ], "name": "ApprovalForAll", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "_fromTokenId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "_toTokenId", "type": "uint256" } ], "name": "BatchMetadataUpdate", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "_tokenId", "type": "uint256" } ], "name": "MetadataUpdate", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "internalType": "address", "name": "previousOwner", "type": "address" }, { "indexed": true, "internalType": "address", "name": "newOwner", "type": "address" } ], "name": "OwnershipTransferred", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "internalType": "address", "name": "from", "type": "address" }, { "indexed": true, "internalType": "address", "name": "to", "type": "address" }, { "indexed": true, "internalType": "uint256", "name": "tokenId", "type": "uint256" } ], "name": "Transfer", "type": "event" }, { "inputs": [ { "internalType": "address", "name": "to", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" } ], "name": "approve", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "owner", "type": "address" } ], "name": "balanceOf", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "view", "type": "function" }, { "inputs": [ { "internalType": "uint256", "name": "tokenId", "type": "uint256" } ], "name": "getApproved", "outputs": [ { "internalType": "address", "name": "", "type": "address" } ], "stateMutability": "view", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "owner", "type": "address" }, { "internalType": "address", "name": "operator", "type": "address" } ], "name": "isApprovedForAll", "outputs": [ { "internalType": "bool", "name": "", "type": "bool" } ], "stateMutability": "view", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "recipient", "type": "address" }, { "internalType": "string", "name": "tokenUri", "type": "string" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" } ], "name": "mint", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "name": "name", "outputs": [ { "internalType": "string", "name": "", "type": "string" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "owner", "outputs": [ { "internalType": "address", "name": "", "type": "address" } ], "stateMutability": "view", "type": "function" }, { "inputs": [ { "internalType": "uint256", "name": "tokenId", "type": "uint256" } ], "name": "ownerOf", "outputs": [ { "internalType": "address", "name": "", "type": "address" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "renounceOwnership", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "from", "type": "address" }, { "internalType": "address", "name": "to", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" } ], "name": "safeTransferFrom", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "from", "type": "address" }, { "internalType": "address", "name": "to", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "bytes", "name": "data", "type": "bytes" } ], "name": "safeTransferFrom", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "operator", "type": "address" }, { "internalType": "bool", "name": "approved", "type": "bool" } ], "name": "setApprovalForAll", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "internalType": "bytes4", "name": "interfaceId", "type": "bytes4" } ], "name": "supportsInterface", "outputs": [ { "internalType": "bool", "name": "", "type": "bool" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "symbol", "outputs": [ { "internalType": "string", "name": "", "type": "string" } ], "stateMutability": "view", "type": "function" }, { "inputs": [ { "internalType": "uint256", "name": "tokenId", "type": "uint256" } ], "name": "tokenURI", "outputs": [ { "internalType": "string", "name": "", "type": "string" } ], "stateMutability": "view", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "from", "type": "address" }, { "internalType": "address", "name": "to", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" } ], "name": "transferFrom", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "newOwner", "type": "address" } ], "name": "transferOwnership", "outputs": [], "stateMutability": "nonpayable", "type": "function" } ]

        const market_contract_address = "0xcf23b9C1a4B7351D965195c32B84c4f9412a3248"
        const market_abi = [ { "inputs": [ { "internalType": "address", "name": "initialOwner", "type": "address" } ], "stateMutability": "nonpayable", "type": "constructor" }, { "inputs": [ { "internalType": "address", "name": "owner", "type": "address" } ], "name": "OwnableInvalidOwner", "type": "error" }, { "inputs": [ { "internalType": "address", "name": "account", "type": "address" } ], "name": "OwnableUnauthorizedAccount", "type": "error" }, { "anonymous": false, "inputs": [ { "indexed": true, "internalType": "address", "name": "collection", "type": "address" }, { "indexed": false, "internalType": "string", "name": "name", "type": "string" }, { "indexed": false, "internalType": "string", "name": "symbol", "type": "string" } ], "name": "CollectionCreated", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "internalType": "address", "name": "previousOwner", "type": "address" }, { "indexed": true, "internalType": "address", "name": "newOwner", "type": "address" } ], "name": "OwnershipTransferred", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "internalType": "address", "name": "collection", "type": "address" }, { "indexed": true, "internalType": "address", "name": "recipient", "type": "address" }, { "indexed": true, "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "indexed": false, "internalType": "string", "name": "tokenUri", "type": "string" } ], "name": "TokenMinted", "type": "event" }, { "inputs": [ { "internalType": "address", "name": "nftAddress", "type": "address" }, { "internalType": "string", "name": "name", "type": "string" }, { "internalType": "string", "name": "symbol", "type": "string" } ], "name": "createCollection", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "collectionAddress", "type": "address" }, { "internalType": "address", "name": "recipient", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "string", "name": "tokenUri", "type": "string" } ], "name": "mint", "outputs": [], "stateMutability": "payable", "type": "function" }, { "inputs": [], "name": "owner", "outputs": [ { "internalType": "address", "name": "", "type": "address" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "renounceOwnership", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "newOwner", "type": "address" } ], "name": "transferOwnership", "outputs": [], "stateMutability": "nonpayable", "type": "function" } ]

        async function loadWeb3() {
            if (window.ethereum) {
                window.web3 = new Web3(window.ethereum);
                window.ethereum.enable();
            }
        }

        async function getCurrentAccount() {
            const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
            return accounts[0];
        }

        async function create_collection()  {
            log('The function create_collection() is triggered');
            if (window.ethereum) {
                window.address = await getCurrentAccount()
                log(window.address);

                window.web3 = new Web3(window.ethereum);
                await deploy()
                return true;
            }
        }

        async function deploy() {
            await loadWeb3();

            const contract = new web3.eth.Contract(collection_abi);
            const account = await getCurrentAccount();
            let name = document.getElementById("fname").value;
            let symbol = document.getElementById("lname").value;

            contract.deploy({
                    data: collection_bin,
                    arguments: [account, name,symbol],
                })
                .send(
                    {
                        from: account,
                    },
                    function(error, transactionHash){
                        if(error){
                            log(JSON.stringify(error))
                        }else{
                            log(transactionHash)
                        }
                    }
                )
                .on('error', function(error){ log(JSON.stringify(error)) })
                .on('transactionHash', function(transactionHash){
                    log('Transaction hash: ' + transactionHash)
                })
                .on('receipt', function(receipt){
                })
                .on('confirmation', function(confirmationNumber, receipt){
                }
                )
                .then(function(newContractInstance){
                    log('Collection address: ' + newContractInstance._address);
                    add_deployed_collection(newContractInstance._address, name, symbol);
                })
        }

        async function add_deployed_collection(collection_addr, name, symbol){
            const account = await getCurrentAccount();
            log('Storing deployed collection');

            let market = new window.web3.eth.Contract(market_abi, market_contract_address);
            let approved = await market.methods.createCollection(collection_addr, name, symbol).send({
                from: account,
            })
            log('Collection stored, you can mint now with: ' + collection_addr);
        }

        async function mint_tokens(collection_addr, receiver, tokenID, tokenURL){
            await loadWeb3();

            let market = new window.web3.eth.Contract(market_abi, market_contract_address);
            const account = await getCurrentAccount();

            let minted = await market.methods.mint(collection_addr, receiver, tokenID, tokenURL).send({
                from: account,
                gasPrice: 20000000000,
                gas: 6000000,
            })
            log(JSON.stringify(minted));
            log('minted!')
        }

        function log(message){
            document.getElementById("logs").innerHTML += "<br/>" + message
        }

        async function mint() {
            let collAddress = document.getElementById("collAddress").value;
            let tokenID = document.getElementById("tokenID").value;
            let tokenURL = document.getElementById("tokenURL").value;
            let receiver = document.getElementById("receiver").value;

            await mint_tokens(collAddress, receiver, tokenID, tokenURL);
        }

    </script>
    <div>
        <form>
            <label for="fname">Name:</label><br>
            <input type="text" id="fname" name="fname"><br>
            <label for="lname">Symbol:</label><br>
            <input type="text" id="lname" name="lname">
        </form>
        <button onclick = "create_collection()" > Create Collection </button>
    </div>
    <div>
        <form>
            <label for="collAddress">CollectionAddress:</label><br>
            <input type="text" id="collAddress" name="collAddress"><br>
            <label for="tokenID">TokenID:</label><br>
            <input type="text" id="tokenID" name="tokenID"><br>
            <label for="tokenURL">TokenURL:</label><br>
            <input type="text" id="tokenURL" name="tokenURL"><br>
            <label for="receiver">Receiver:</label><br>
            <input type="text" id="receiver" name="receiver"><br>
        </form>
        <button onclick = "mint()" > Mint </button>
    </div>
    <p>
    <div id = "logs"> </div>
    </p>
</div>
</body>
</html>